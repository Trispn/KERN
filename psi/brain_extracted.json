{
  "name": "extracted-psi-demo",
  "operators": [
    {
      "name": "ParseCode",
      "operator_type": "reasoning",
      "description": "Parse code into AST",
      "domain": "code",
      "kern_template": "rule ParseCode: if 1 == 1 then log(\"code parsed\")",
      "inputs": ["code"],
      "outputs": ["ast"],
      "emissions": {
        "rust": "// parse code with tree-sitter",
        "python": "# parse code with ast module"
      }
    },
    {
      "name": "GenerateCode",
      "operator_type": "action",
      "description": "Generate code from spec",
      "domain": "code",
      "kern_template": "rule GenerateCode: if 1 == 1 then log(\"code generated\")",
      "inputs": ["spec"],
      "outputs": ["code"],
      "emissions": {
        "rust": "// generate code using templates",
        "python": "# generate code using templates"
      }
    },
    {
      "name": "TranslateText",
      "operator_type": "transform",
      "description": "Translate text between languages",
      "domain": "text",
      "kern_template": "rule TranslateText: if 1 == 1 then log(\"text translated\")",
      "inputs": ["text", "source_lang", "target_lang"],
      "outputs": ["translated_text"],
      "emissions": {
        "rust": "// translate text",
        "python": "# translate text"
      }
    },
    {
      "name": "DefineEntities",
      "operator_type": "reasoning",
      "description": "Define entities",
      "domain": "code",
      "kern_template": "rule DefineEntities: if 1 == 1 then log(\"Entities defined\")",
      "inputs": ["schema"],
      "outputs": ["entities"],
      "emissions": {
        "rust": "// Rust: define structs here",
        "python": "# Python: define classes here"
      }
    },
    {
      "name": "CreateRoutes",
      "operator_type": "action",
      "description": "Create API routes",
      "domain": "code",
      "kern_template": "rule CreateRoutes: if 1 == 1 then log(\"Routes created\")",
      "inputs": ["endpoints"],
      "outputs": ["routes"],
      "emissions": {
        "rust": "// Rust: create actix routes",
        "python": "# Python: create flask routes"
      }
    }
  ],
  "meta_programs": [
    {
      "name": "GenerateModule",
      "operators": ["DefineEntities", "CreateRoutes", "ParseCode", "GenerateCode"],
      "description": "Generate a module with entities, routes, and code"
    },
    {
      "name": "CodeTransform",
      "operators": ["ParseCode", "GenerateCode"],
      "description": "Transform and generate code"
    }
  ],
  "heuristics": [
    {
      "name": "default",
      "weights": {
        "ParseCode": 10,
        "GenerateCode": 9,
        "TranslateText": 8,
        "DefineEntities": 10,
        "CreateRoutes": 8
      }
    }
  ]
}
